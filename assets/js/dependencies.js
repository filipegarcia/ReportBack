jQuery.base64=function(){function e(e,t){var n=r.indexOf(e.charAt(t));if(-1===n)throw"Cannot decode base64";return n}function t(t){var n,o,r=0,a=t.length,s=[];if(t+="",0===a)return t;if(0!==a%4)throw"Cannot decode base64";for(t.charAt(a-1)===i&&(r=1,t.charAt(a-2)===i&&(r=2),a-=4),n=0;a>n;n+=4)o=e(t,n)<<18|e(t,n+1)<<12|e(t,n+2)<<6|e(t,n+3),s.push(String.fromCharCode(o>>16,255&o>>8,255&o));switch(r){case 1:o=e(t,n)<<18|e(t,n+1)<<12|e(t,n+2)<<6,s.push(String.fromCharCode(o>>16,255&o>>8));break;case 2:o=e(t,n)<<18|e(t,n+1)<<12,s.push(String.fromCharCode(o>>16))}return s.join("")}function n(e,t){var n=e.charCodeAt(t);if(n>255)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return n}function o(e){if(1!==arguments.length)throw"SyntaxError: exactly one argument required";e+="";var t,o,a=[],s=e.length-e.length%3;if(0===e.length)return e;for(t=0;s>t;t+=3)o=n(e,t)<<16|n(e,t+1)<<8|n(e,t+2),a.push(r.charAt(o>>18)),a.push(r.charAt(63&o>>12)),a.push(r.charAt(63&o>>6)),a.push(r.charAt(63&o));switch(e.length-s){case 1:o=n(e,t)<<16,a.push(r.charAt(o>>18)+r.charAt(63&o>>12)+i+i);break;case 2:o=n(e,t)<<16|n(e,t+1)<<8,a.push(r.charAt(o>>18)+r.charAt(63&o>>12)+r.charAt(63&o>>6)+i)}return a.join("")}var i="=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a="1.0";return{decode:t,encode:o,VERSION:a}}(jQuery),function(e,t,n){function o(t){c.logging&&e.console&&e.console.log&&e.console.log(t)}function i(e,t,n,o,i,r){var a,s,l,d,h=c.Util.getCSS(t,e,i);if(1===h.length&&(d=h[0],h=[],h[0]=d,h[1]=d),-1!==(""+h[0]).indexOf("%"))l=parseFloat(h[0])/100,s=n.width*l,"backgroundSize"!==e&&(s-=(r||o).width*l);else if("backgroundSize"===e)if("auto"===h[0])s=o.width;else if(h[0].match(/contain|cover/)){var u=c.Util.resizeBounds(o.width,o.height,n.width,n.height,h[0]);s=u.width,a=u.height}else s=parseInt(h[0],10);else s=parseInt(h[0],10);return"auto"===h[1]?a=s/o.width*o.height:-1!==(""+h[1]).indexOf("%")?(l=parseFloat(h[1])/100,a=n.height*l,"backgroundSize"!==e&&(a-=(r||o).height*l)):a=parseInt(h[1],10),[s,a]}function r(e){return{zindex:e,children:[]}}function a(e,t){var n=[];return{storage:n,width:e,height:t,clip:function(){n.push({type:"function",name:"clip",arguments:arguments})},translate:function(){n.push({type:"function",name:"translate",arguments:arguments})},fill:function(){n.push({type:"function",name:"fill",arguments:arguments})},save:function(){n.push({type:"function",name:"save",arguments:arguments})},restore:function(){n.push({type:"function",name:"restore",arguments:arguments})},fillRect:function(){n.push({type:"function",name:"fillRect",arguments:arguments})},createPattern:function(){n.push({type:"function",name:"createPattern",arguments:arguments})},drawShape:function(){var e=[];return n.push({type:"function",name:"drawShape",arguments:e}),{moveTo:function(){e.push({name:"moveTo",arguments:arguments})},lineTo:function(){e.push({name:"lineTo",arguments:arguments})},arcTo:function(){e.push({name:"arcTo",arguments:arguments})},bezierCurveTo:function(){e.push({name:"bezierCurveTo",arguments:arguments})},quadraticCurveTo:function(){e.push({name:"quadraticCurveTo",arguments:arguments})}}},drawImage:function(){n.push({type:"function",name:"drawImage",arguments:arguments})},fillText:function(){n.push({type:"function",name:"fillText",arguments:arguments})},setVariable:function(e,t){n.push({type:"variable",name:e,arguments:t})}}}var s,l,c={};c.Util={},c.Util.trimText=function(e){return function(t){return e?e.apply(t):((t||"")+"").replace(/^\s+|\s+$/g,"")}}(String.prototype.trim),c.Util.parseBackgroundImage=function(e){var t,n,o,i,r,a,s,l,c=" \r\n	",d=[],h=0,u=0,p=function(){t&&('"'===n.substr(0,1)&&(n=n.substr(1,n.length-2)),n&&l.push(n),"-"===t.substr(0,1)&&(i=t.indexOf("-",1)+1)>0&&(o=t.substr(0,i),t=t.substr(i)),d.push({prefix:o,method:t.toLowerCase(),value:r,args:l})),l=[],t=o=n=r=""};p();for(var g=0,f=e.length;f>g;g++)if(a=e[g],!(0===h&&c.indexOf(a)>-1)){switch(a){case'"':s?s===a&&(s=null):s=a;break;case"(":if(s)break;if(0===h){h=1,r+=a;continue}u++;break;case")":if(s)break;if(1===h){if(0===u){h=0,r+=a,p();continue}u--}break;case",":if(s)break;if(0===h){p();continue}if(1===h&&0===u&&!t.match(/^url$/i)){l.push(n),n="",r+=a;continue}}r+=a,0===h?t+=a:n+=a}return p(),d},c.Util.Bounds=function(e){var t,o={};return e.getBoundingClientRect?(t=e.getBoundingClientRect(),o.top=t.top,o.bottom=t.bottom||t.top+t.height,o.left=t.left,o.width=t.width||t.right-t.left,o.height=t.height||t.bottom-t.top,o):n},c.Util.getCSS=function(e,o,i){function r(t,n){var o,i=e.runtimeStyle&&e.runtimeStyle[t],r=e.style;return!/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(n)&&/^-?\d/.test(n)&&(o=r.left,i&&(e.runtimeStyle.left=e.currentStyle.left),r.left="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r.left=o,i&&(e.runtimeStyle.left=i)),/^(thin|medium|thick)$/i.test(n)?n:Math.round(parseFloat(n))+"px"}var a,d=o.match(/^background(Size|Position)$/);if(s!==e&&(l=t.defaultView.getComputedStyle(e,null)),a=l[o],d)if(a=(a||"").split(","),a=a[i||0]||a[0]||"auto",a=c.Util.trimText(a).split(" "),"backgroundSize"!==o||a[0]&&!a[0].match(/cover|contain|auto/)){if(a[0]=-1===a[0].indexOf("%")?r(o+"X",a[0]):a[0],a[1]===n){if("backgroundSize"===o)return a[1]="auto",a;a[1]=a[0]}a[1]=-1===a[1].indexOf("%")?r(o+"Y",a[1]):a[1]}else;else if(/border(Top|Bottom)(Left|Right)Radius/.test(o)){var h=a.split(" ");1>=h.length&&(h[1]=h[0]),h[0]=parseInt(h[0],10),h[1]=parseInt(h[1],10),a=h}return a},c.Util.resizeBounds=function(e,t,n,o,i){var r,a,s=n/o,l=e/t;return i&&"auto"!==i?l>s^"contain"===i?(a=o,r=o*l):(r=n,a=n/l):(r=n,a=o),{width:r,height:a}},c.Util.BackgroundPosition=function(e,t,n,o,r){var a=i("backgroundPosition",e,t,n,o,r);return{left:a[0],top:a[1]}},c.Util.BackgroundSize=function(e,t,n,o){var r=i("backgroundSize",e,t,n,o);return{width:r[0],height:r[1]}},c.Util.Extend=function(e,t){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},c.Util.Children=function(e){var t;try{t=e.nodeName&&"IFRAME"===e.nodeName.toUpperCase()?e.contentDocument||e.contentWindow.document:function(e){var t=[];return null!==e&&function(e,t){var o=e.length,i=0;if("number"==typeof t.length)for(var r=t.length;r>i;i++)e[o++]=t[i];else for(;t[i]!==n;)e[o++]=t[i++];return e.length=o,e}(t,e),t}(e.childNodes)}catch(i){o("html2canvas.Util.Children failed with exception: "+i.message),t=[]}return t},c.Util.Font=function(){var e={};return function(t,o,i){if(e[t+"-"+o]!==n)return e[t+"-"+o];var r,a,s,l=i.createElement("div"),c=i.createElement("img"),d=i.createElement("span"),h="Hidden Text";return l.style.visibility="hidden",l.style.fontFamily=t,l.style.fontSize=o,l.style.margin=0,l.style.padding=0,i.body.appendChild(l),c.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=",c.width=1,c.height=1,c.style.margin=0,c.style.padding=0,c.style.verticalAlign="baseline",d.style.fontFamily=t,d.style.fontSize=o,d.style.margin=0,d.style.padding=0,d.appendChild(i.createTextNode(h)),l.appendChild(d),l.appendChild(c),r=c.offsetTop-d.offsetTop+1,l.removeChild(d),l.appendChild(i.createTextNode(h)),l.style.lineHeight="normal",c.style.verticalAlign="super",a=c.offsetTop-l.offsetTop+1,s={baseline:r,lineWidth:1,middle:a},e[t+"-"+o]=s,i.body.removeChild(l),s}}(),function(){c.Generate={};var e=[/^(-webkit-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-gradient)\((linear|radial),\s((?:\d{1,3}%?)\s(?:\d{1,3}%?),\s(?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)\-]+)\)$/,/^(-moz-linear-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-moz-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s?([a-z\-]*)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/];c.Generate.parseGradient=function(t,n){var o,i,r,a,s,l,c,d,h,u,p,g,f=e.length;for(i=0;f>i&&!(r=t.match(e[i]));i+=1);if(r)switch(r[1]){case"-webkit-linear-gradient":case"-o-linear-gradient":if(o={type:"linear",x0:null,y0:null,x1:null,y1:null,colorStops:[]},s=r[2].match(/\w+/g))for(l=s.length,i=0;l>i;i+=1)switch(s[i]){case"top":o.y0=0,o.y1=n.height;break;case"right":o.x0=n.width,o.x1=0;break;case"bottom":o.y0=n.height,o.y1=0;break;case"left":o.x0=0,o.x1=n.width}if(null===o.x0&&null===o.x1&&(o.x0=o.x1=n.width/2),null===o.y0&&null===o.y1&&(o.y0=o.y1=n.height/2),s=r[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(l=s.length,c=1/Math.max(l-1,1),i=0;l>i;i+=1)d=s[i].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),d[2]?(a=parseFloat(d[2]),a/="%"===d[3]?100:n.width):a=i*c,o.colorStops.push({color:d[1],stop:a});break;case"-webkit-gradient":if(o={type:"radial"===r[2]?"circle":r[2],x0:0,y0:0,x1:0,y1:0,colorStops:[]},s=r[3].match(/(\d{1,3})%?\s(\d{1,3})%?,\s(\d{1,3})%?\s(\d{1,3})%?/),s&&(o.x0=s[1]*n.width/100,o.y0=s[2]*n.height/100,o.x1=s[3]*n.width/100,o.y1=s[4]*n.height/100),s=r[4].match(/((?:from|to|color-stop)\((?:[0-9\.]+,\s)?(?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)\))+/g))for(l=s.length,i=0;l>i;i+=1)d=s[i].match(/(from|to|color-stop)\(([0-9\.]+)?(?:,\s)?((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\)/),a=parseFloat(d[2]),"from"===d[1]&&(a=0),"to"===d[1]&&(a=1),o.colorStops.push({color:d[3],stop:a});break;case"-moz-linear-gradient":if(o={type:"linear",x0:0,y0:0,x1:0,y1:0,colorStops:[]},s=r[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),s&&(o.x0=s[1]*n.width/100,o.y0=s[2]*n.height/100,o.x1=n.width-o.x0,o.y1=n.height-o.y0),s=r[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}%)?)+/g))for(l=s.length,c=1/Math.max(l-1,1),i=0;l>i;i+=1)d=s[i].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%)?/),d[2]?(a=parseFloat(d[2]),d[3]&&(a/=100)):a=i*c,o.colorStops.push({color:d[1],stop:a});break;case"-webkit-radial-gradient":case"-moz-radial-gradient":case"-o-radial-gradient":if(o={type:"circle",x0:0,y0:0,x1:n.width,y1:n.height,cx:0,cy:0,rx:0,ry:0,colorStops:[]},s=r[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),s&&(o.cx=s[1]*n.width/100,o.cy=s[2]*n.height/100),s=r[3].match(/\w+/),d=r[4].match(/[a-z\-]*/),s&&d)switch(d[0]){case"farthest-corner":case"cover":case"":h=Math.sqrt(Math.pow(o.cx,2)+Math.pow(o.cy,2)),u=Math.sqrt(Math.pow(o.cx,2)+Math.pow(o.y1-o.cy,2)),p=Math.sqrt(Math.pow(o.x1-o.cx,2)+Math.pow(o.y1-o.cy,2)),g=Math.sqrt(Math.pow(o.x1-o.cx,2)+Math.pow(o.cy,2)),o.rx=o.ry=Math.max(h,u,p,g);break;case"closest-corner":h=Math.sqrt(Math.pow(o.cx,2)+Math.pow(o.cy,2)),u=Math.sqrt(Math.pow(o.cx,2)+Math.pow(o.y1-o.cy,2)),p=Math.sqrt(Math.pow(o.x1-o.cx,2)+Math.pow(o.y1-o.cy,2)),g=Math.sqrt(Math.pow(o.x1-o.cx,2)+Math.pow(o.cy,2)),o.rx=o.ry=Math.min(h,u,p,g);break;case"farthest-side":"circle"===s[0]?o.rx=o.ry=Math.max(o.cx,o.cy,o.x1-o.cx,o.y1-o.cy):(o.type=s[0],o.rx=Math.max(o.cx,o.x1-o.cx),o.ry=Math.max(o.cy,o.y1-o.cy));break;case"closest-side":case"contain":"circle"===s[0]?o.rx=o.ry=Math.min(o.cx,o.cy,o.x1-o.cx,o.y1-o.cy):(o.type=s[0],o.rx=Math.min(o.cx,o.x1-o.cx),o.ry=Math.min(o.cy,o.y1-o.cy))}if(s=r[5].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(l=s.length,c=1/Math.max(l-1,1),i=0;l>i;i+=1)d=s[i].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),d[2]?(a=parseFloat(d[2]),a/="%"===d[3]?100:n.width):a=i*c,o.colorStops.push({color:d[1],stop:a})}return o},c.Generate.Gradient=function(e,n){if(0!==n.width&&0!==n.height){var i,r,a,s,l=t.createElement("canvas"),d=l.getContext("2d");if(l.width=n.width,l.height=n.height,i=c.Generate.parseGradient(e,n))if("linear"===i.type){for(r=d.createLinearGradient(i.x0,i.y0,i.x1,i.y1),a=0,s=i.colorStops.length;s>a;a+=1)try{r.addColorStop(i.colorStops[a].stop,i.colorStops[a].color)}catch(h){o(["failed to add color stop: ",h,"; tried to add: ",i.colorStops[a],"; stop: ",a,"; in: ",e])}d.fillStyle=r,d.fillRect(0,0,n.width,n.height)}else if("circle"===i.type){for(r=d.createRadialGradient(i.cx,i.cy,0,i.cx,i.cy,i.rx),a=0,s=i.colorStops.length;s>a;a+=1)try{r.addColorStop(i.colorStops[a].stop,i.colorStops[a].color)}catch(h){o(["failed to add color stop: ",h,"; tried to add: ",i.colorStops[a],"; stop: ",a,"; in: ",e])}d.fillStyle=r,d.fillRect(0,0,n.width,n.height)}else if("ellipse"===i.type){var u=t.createElement("canvas"),p=u.getContext("2d"),g=Math.max(i.rx,i.ry),f=2*g;for(u.width=u.height=f,r=p.createRadialGradient(i.rx,i.ry,0,i.rx,i.ry,g),a=0,s=i.colorStops.length;s>a;a+=1)try{r.addColorStop(i.colorStops[a].stop,i.colorStops[a].color)}catch(h){o(["failed to add color stop: ",h,"; tried to add: ",i.colorStops[a],"; stop: ",a,"; in: ",e])}p.fillStyle=r,p.fillRect(0,0,f,f),d.fillStyle=i.colorStops[a-1].color,d.fillRect(0,0,l.width,l.height),d.drawImage(u,i.cx-i.rx,i.cy-i.ry,2*i.rx,2*i.ry)}return l}},c.Generate.ListAlpha=function(e){var t,n="";do t=e%26,n=String.fromCharCode(t+64)+n,e/=26;while(26*e>26);return n},c.Generate.ListRoman=function(e){var t,n=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],o=[1e3,900,500,400,100,90,50,40,10,9,5,4,1],i="",r=n.length;if(0>=e||e>=4e3)return e;for(t=0;r>t;t+=1)for(;e>=o[t];)e-=o[t],i+=n[t];return i}}(),c.Parse=function(i,s){function l(){return Math.max(Math.max(st.body.scrollWidth,st.documentElement.scrollWidth),Math.max(st.body.offsetWidth,st.documentElement.offsetWidth),Math.max(st.body.clientWidth,st.documentElement.clientWidth))}function d(){return Math.max(Math.max(st.body.scrollHeight,st.documentElement.scrollHeight),Math.max(st.body.offsetHeight,st.documentElement.offsetHeight),Math.max(st.body.clientHeight,st.documentElement.clientHeight))}function h(e,t){var n=parseInt(ht(e,t),10);return isNaN(n)?0:n}function u(e,t,n,o,i,r){"transparent"!==r&&(e.setVariable("fillStyle",r),e.fillRect(t,n,o,i),at+=1)}function p(e,t){switch(t){case"lowercase":return e.toLowerCase();case"capitalize":return e.replace(/(^|\s|:|-|\(|\))([a-z])/g,function(e,t,o){return e.length>0?t+o.toUpperCase():n});case"uppercase":return e.toUpperCase();default:return e}}function g(e){return/^(normal|none|0px)$/.test(e)}function f(e,t,n,o){null!==e&&c.Util.trimText(e).length>0&&(o.fillText(e,t,n),at+=1)}function m(e,t,o,i){var r=!1,a=ht(t,"fontWeight"),s=ht(t,"fontFamily"),l=ht(t,"fontSize");switch(parseInt(a,10)){case 401:a="bold";break;case 400:a="normal"}return e.setVariable("fillStyle",i),e.setVariable("font",[ht(t,"fontStyle"),ht(t,"fontVariant"),a,l,s].join(" ")),e.setVariable("textAlign",r?"right":"left"),"none"!==o?c.Util.Font(s,l,st):n}function v(e,t,n,o,i){switch(t){case"underline":u(e,n.left,Math.round(n.top+o.baseline+o.lineWidth),n.width,1,i);break;case"overline":u(e,n.left,Math.round(n.top),n.width,1,i);break;case"line-through":u(e,n.left,Math.ceil(n.top+o.middle+o.lineWidth),n.width,1,i)}}function b(e,t,n,o){var i;if(lt.rangeBounds)("none"!==n||0!==c.Util.trimText(t).length)&&(i=w(t,e.node,e.textOffset)),e.textOffset+=t.length;else if(e.node&&"string"==typeof e.node.nodeValue){var r=o?e.node.splitText(t.length):null;i=y(e.node),e.node=r}return i}function w(e,t,n){var o=st.createRange();return o.setStart(t,n),o.setEnd(t,n+e.length),o.getBoundingClientRect()}function y(e){var t=e.parentNode,n=st.createElement("wrapper"),o=e.cloneNode(!0);n.appendChild(e.cloneNode(!0)),t.replaceChild(n,e);var i=c.Util.Bounds(n);return t.replaceChild(o,n),i}function x(e,t,n){var o,i,r=n.ctx,a=ht(e,"color"),l=ht(e,"textDecoration"),d=ht(e,"textAlign"),h={node:t,textOffset:0};c.Util.trimText(t.nodeValue).length>0&&(t.nodeValue=p(t.nodeValue,ht(e,"textTransform")),d=d.replace(["-webkit-auto"],["auto"]),i=!s.letterRendering&&/^(left|right|justify|auto)$/.test(d)&&g(ht(e,"letterSpacing"))?t.nodeValue.split(/(\b| )/):t.nodeValue.split(""),o=m(r,e,l,a),s.chinese&&i.forEach(function(e,t){/.*[\u4E00-\u9FA5].*$/.test(e)&&(e=e.split(""),e.unshift(t,1),i.splice.apply(i,e))}),i.forEach(function(e,t){var n=b(h,e,l,i.length-1>t);n&&(f(e,n.left,n.bottom,r),v(r,l,n,o,a))}))}function C(e,t){var n,o,i=st.createElement("boundelement");return i.style.display="inline",n=e.style.listStyleType,e.style.listStyleType="none",i.appendChild(st.createTextNode(t)),e.insertBefore(i,e.firstChild),o=c.Util.Bounds(i),e.removeChild(i),e.style.listStyleType=n,o}function k(e){var t=-1,n=1,o=e.parentNode.childNodes;if(e.parentNode){for(;o[++t]!==e;)1===o[t].nodeType&&n++;return n}return-1}function S(e,t){var n,o=k(e);switch(t){case"decimal":n=o;break;case"decimal-leading-zero":n=1===(""+o).length?o="0"+(""+o):""+o;break;case"upper-roman":n=c.Generate.ListRoman(o);break;case"lower-roman":n=c.Generate.ListRoman(o).toLowerCase();break;case"lower-alpha":n=c.Generate.ListAlpha(o).toLowerCase();break;case"upper-alpha":n=c.Generate.ListAlpha(o)}return n+=". "}function I(e,t,n){var o,i,r,a=t.ctx,s=ht(e,"listStyleType");if(/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(s)){if(i=S(e,s),r=C(e,i),m(a,e,"none",ht(e,"color")),"inside"!==ht(e,"listStylePosition"))return;a.setVariable("textAlign","left"),o=n.left,f(i,o,r.bottom,a)}}function $(e){var t=i[e];return t&&t.succeeded===!0?t.img:!1}function T(e,t){var n=Math.max(e.left,t.left),o=Math.max(e.top,t.top),i=Math.min(e.left+e.width,t.left+t.width),r=Math.min(e.top+e.height,t.top+t.height);return{left:n,top:o,width:i-n,height:r-o}}function R(e,t){var n;return t?"auto"!==e?(n=r(e),t.children.push(n),n):t:n=r(0)}function M(e,t,n,o,i){var r=h(t,"paddingLeft"),a=h(t,"paddingTop"),s=h(t,"paddingRight"),l=h(t,"paddingBottom");V(e,n,0,0,n.width,n.height,o.left+r+i[3].width,o.top+a+i[0].width,o.width-(i[1].width+i[3].width+r+s),o.height-(i[0].width+i[2].width+a+l))}function E(e){return["Top","Right","Bottom","Left"].map(function(t){return{width:h(e,"border"+t+"Width"),color:ht(e,"border"+t+"Color")}})}function L(e){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(t){return ht(e,"border"+t+"Radius")})}function A(e,t,n,o){var i=function(e,t,n){return{x:e.x+(t.x-e.x)*n,y:e.y+(t.y-e.y)*n}};return{start:e,startControl:t,endControl:n,end:o,subdivide:function(r){var a=i(e,t,r),s=i(t,n,r),l=i(n,o,r),c=i(a,s,r),d=i(s,l,r),h=i(c,d,r);return[A(e,a,c,h),A(h,d,l,o)]},curveTo:function(e){e.push(["bezierCurve",t.x,t.y,n.x,n.y,o.x,o.y])},curveToReversed:function(o){o.push(["bezierCurve",n.x,n.y,t.x,t.y,e.x,e.y])}}}function U(e,t,n,o,i,r,a){t[0]>0||t[1]>0?(e.push(["line",o[0].start.x,o[0].start.y]),o[0].curveTo(e),o[1].curveTo(e)):e.push(["line",r,a]),(n[0]>0||n[1]>0)&&e.push(["line",i[0].start.x,i[0].start.y])}function O(e,t,n,o,i,r,a){var s=[];return t[0]>0||t[1]>0?(s.push(["line",o[1].start.x,o[1].start.y]),o[1].curveTo(s)):s.push(["line",e.c1[0],e.c1[1]]),n[0]>0||n[1]>0?(s.push(["line",r[0].start.x,r[0].start.y]),r[0].curveTo(s),s.push(["line",a[0].end.x,a[0].end.y]),a[0].curveToReversed(s)):(s.push(["line",e.c2[0],e.c2[1]]),s.push(["line",e.c3[0],e.c3[1]])),t[0]>0||t[1]>0?(s.push(["line",i[1].end.x,i[1].end.y]),i[1].curveToReversed(s)):s.push(["line",e.c4[0],e.c4[1]]),s}function B(e,t,n){var o=e.left,i=e.top,r=e.width,a=e.height,s=t[0][0],l=t[0][1],c=t[1][0],d=t[1][1],h=t[2][0],u=t[2][1],p=t[3][0],g=t[3][1],f=r-c,m=a-h,v=r-u,b=a-g;return{topLeftOuter:gt(o,i,s,l).topLeft.subdivide(.5),topLeftInner:gt(o+n[3].width,i+n[0].width,Math.max(0,s-n[3].width),Math.max(0,l-n[0].width)).topLeft.subdivide(.5),topRightOuter:gt(o+f,i,c,d).topRight.subdivide(.5),topRightInner:gt(o+Math.min(f,r+n[3].width),i+n[0].width,f>r+n[3].width?0:c-n[3].width,d-n[0].width).topRight.subdivide(.5),bottomRightOuter:gt(o+v,i+m,u,h).bottomRight.subdivide(.5),bottomRightInner:gt(o+Math.min(v,r+n[3].width),i+Math.min(m,a+n[0].width),Math.max(0,u-n[1].width),Math.max(0,h-n[2].width)).bottomRight.subdivide(.5),bottomLeftOuter:gt(o,i+b,p,g).bottomLeft.subdivide(.5),bottomLeftInner:gt(o+n[3].width,i+b,Math.max(0,p-n[3].width),Math.max(0,g-n[2].width)).bottomLeft.subdivide(.5)}}function D(e,t,n,o,i){var r=ht(e,"backgroundClip"),a=[];switch(r){case"content-box":case"padding-box":U(a,o[0],o[1],t.topLeftInner,t.topRightInner,i.left+n[3].width,i.top+n[0].width),U(a,o[1],o[2],t.topRightInner,t.bottomRightInner,i.left+i.width-n[1].width,i.top+n[0].width),U(a,o[2],o[3],t.bottomRightInner,t.bottomLeftInner,i.left+i.width-n[1].width,i.top+i.height-n[2].width),U(a,o[3],o[0],t.bottomLeftInner,t.topLeftInner,i.left+n[3].width,i.top+i.height-n[2].width);break;default:U(a,o[0],o[1],t.topLeftOuter,t.topRightOuter,i.left,i.top),U(a,o[1],o[2],t.topRightOuter,t.bottomRightOuter,i.left+i.width,i.top),U(a,o[2],o[3],t.bottomRightOuter,t.bottomLeftOuter,i.left+i.width,i.top+i.height),U(a,o[3],o[0],t.bottomLeftOuter,t.topLeftOuter,i.left,i.top+i.height)}return a}function P(e,t,n){var o,i,r,a,s,l,c=t.left,d=t.top,h=t.width,u=t.height,p=L(e),g=B(t,p,n),f={clip:D(e,g,n,p,t),borders:[]};for(o=0;4>o;o++)if(n[o].width>0){switch(i=c,r=d,a=h,s=u-n[2].width,o){case 0:s=n[0].width,l=O({c1:[i,r],c2:[i+a,r],c3:[i+a-n[1].width,r+s],c4:[i+n[3].width,r+s]},p[0],p[1],g.topLeftOuter,g.topLeftInner,g.topRightOuter,g.topRightInner);break;case 1:i=c+h-n[1].width,a=n[1].width,l=O({c1:[i+a,r],c2:[i+a,r+s+n[2].width],c3:[i,r+s],c4:[i,r+n[0].width]},p[1],p[2],g.topRightOuter,g.topRightInner,g.bottomRightOuter,g.bottomRightInner);break;case 2:r=r+u-n[2].width,s=n[2].width,l=O({c1:[i+a,r+s],c2:[i,r+s],c3:[i+n[3].width,r],c4:[i+a-n[2].width,r]},p[2],p[3],g.bottomRightOuter,g.bottomRightInner,g.bottomLeftOuter,g.bottomLeftInner);break;case 3:a=n[3].width,l=O({c1:[i,r+s+n[2].width],c2:[i,r],c3:[i+a,r+n[0].width],c4:[i+a,r+s]},p[3],p[0],g.bottomLeftOuter,g.bottomLeftInner,g.topLeftOuter,g.topLeftInner)}f.borders.push({args:l,color:n[o].color})}return f}function z(e,t){var n=e.drawShape();return t.forEach(function(e,t){n[0===t?"moveTo":e[0]+"To"].apply(null,e.slice(1))}),n}function N(e,t,n){"transparent"!==n&&(e.setVariable("fillStyle",n),z(e,t),e.fill(),at+=1)}function j(e,t,n){var i,r,a=st.createElement("valuewrap"),s=["lineHeight","textAlign","fontFamily","color","fontSize","paddingLeft","paddingTop","width","height","border","borderLeftWidth","borderTopWidth"];s.forEach(function(t){try{a.style[t]=ht(e,t)}catch(n){o("html2canvas: Parse: Exception caught in renderFormValue: "+n.message)}}),a.style.borderColor="black",a.style.borderStyle="solid",a.style.display="block",a.style.position="absolute",(/^(submit|reset|button|text|password)$/.test(e.type)||"SELECT"===e.nodeName)&&(a.style.lineHeight=ht(e,"height")),a.style.top=t.top+"px",a.style.left=t.left+"px",i="SELECT"===e.nodeName?(e.options[e.selectedIndex]||0).text:e.value,i||(i=e.placeholder),r=st.createTextNode(i),a.appendChild(r),dt.appendChild(a),x(e,r,n),dt.removeChild(a)}function V(e){e.drawImage.apply(e,Array.prototype.slice.call(arguments,1)),at+=1}function F(o,i){var r=e.getComputedStyle(o,i);if(r&&r.content&&"none"!==r.content&&"-moz-alt-content"!==r.content){var a=r.content+"",s=a.substr(0,1);s===a.substr(a.length-1)&&s.match(/'|"/)&&(a=a.substr(1,a.length-2));var l="url"===a.substr(0,3),d=t.createElement(l?"img":"span");return d.className=ut+"-before "+ut+"-after",Object.keys(r).filter(_).forEach(function(e){r[e]!==n&&""!==r[e]&&(d.style[e]=r[e])}),l?d.src=c.Util.parseBackgroundImage(a)[0].args[0]:d.innerHTML=a,d}}function _(t){return isNaN(e.parseInt(t,10))}function H(e,t){var n=F(e,":before"),o=F(e,":after");(n||o)&&(n&&(e.className+=" "+ut+"-before",e.parentNode.insertBefore(n,e),nt(n,t,!0),e.parentNode.removeChild(n),e.className=e.className.replace(ut+"-before","").trim()),o&&(e.className+=" "+ut+"-after",e.appendChild(o),nt(o,t,!0),e.removeChild(o),e.className=e.className.replace(ut+"-after","").trim()))}function G(e,t,n,o){var i=Math.round(o.left+n.left),r=Math.round(o.top+n.top);e.createPattern(t),e.translate(i,r),e.fill(),e.translate(-i,-r)}function Q(e,t,n,o,i,r,a,s){var l=[];l.push(["line",Math.round(i),Math.round(r)]),l.push(["line",Math.round(i+a),Math.round(r)]),l.push(["line",Math.round(i+a),Math.round(s+r)]),l.push(["line",Math.round(i),Math.round(s+r)]),z(e,l),e.save(),e.clip(),G(e,t,n,o),e.restore()}function W(e,t,n){u(e,t.left,t.top,t.width,t.height,n)}function q(e,t,n,o,i){var r=c.Util.BackgroundSize(e,t,o,i),a=c.Util.BackgroundPosition(e,t,o,i,r),s=ht(e,"backgroundRepeat").split(",").map(function(e){return e.trim()});switch(o=Y(o,r),s=s[i]||s[0]){case"repeat-x":Q(n,o,a,t,t.left,t.top+a.top,99999,o.height);break;case"repeat-y":Q(n,o,a,t,t.left+a.left,t.top,o.width,99999);break;case"no-repeat":Q(n,o,a,t,t.left+a.left,t.top+a.top,o.width,o.height);break;default:G(n,o,a,{top:t.top,left:t.left,width:o.width,height:o.height})}}function X(e,t,n){for(var i,r=ht(e,"backgroundImage"),a=c.Util.parseBackgroundImage(r),s=a.length;s--;)if(r=a[s],r.args&&0!==r.args.length){var l="url"===r.method?r.args[0]:r.value;i=$(l),i?q(e,t,n,i,s):o("html2canvas: Error loading background:",r)}}function Y(e,t){if(e.width===t.width&&e.height===t.height)return e;var n,o=st.createElement("canvas");return o.width=t.width,o.height=t.height,n=o.getContext("2d"),V(n,e,0,0,e.width,e.height,0,0,t.width,t.height),o}function J(e,t,n){var o=ht(t,"opacity")*(n?n.opacity:1);return e.setVariable("globalAlpha",o),o}function K(e,t,n){var o=a(t?n.width:l(),t?n.height:d()),i={ctx:o,zIndex:R(ht(e,"zIndex"),t?t.zIndex:null),opacity:J(o,e,t),cssPosition:ht(e,"position"),borders:E(e),clip:t&&t.clip?c.Util.Extend({},t.clip):null};return s.useOverflow===!0&&/(hidden|scroll|auto)/.test(ht(e,"overflow"))===!0&&/(BODY)/i.test(e.nodeName)===!1&&(i.clip=i.clip?T(i.clip,n):n),i.zIndex.children.push(i),i}function Z(e,t,n){var o={left:t.left+e[3].width,top:t.top+e[0].width,width:t.width-(e[1].width+e[3].width),height:t.height-(e[0].width+e[2].width)};return n&&(o=T(o,n)),o}function et(e,t,n){var i,r=c.Util.Bounds(e),a=ct.test(e.nodeName)?"#efefef":ht(e,"backgroundColor"),s=K(e,t,r),l=s.borders,d=s.ctx,h=Z(l,r,s.clip),u=P(e,r,l);switch(z(d,u.clip),d.save(),d.clip(),h.height>0&&h.width>0&&(W(d,r,a),X(e,h,d)),d.restore(),u.borders.forEach(function(e){N(d,e.args,e.color)}),n||H(e,s),e.nodeName){case"IMG":(i=$(e.getAttribute("src")))?M(d,e,i,r,l):o("html2canvas: Error loading <img>:"+e.getAttribute("src"));break;case"INPUT":/^(text|url|email|submit|button|reset)$/.test(e.type)&&(e.value||e.placeholder).length>0&&j(e,r,s);break;case"TEXTAREA":(e.value||e.placeholder||"").length>0&&j(e,r,s);break;case"SELECT":(e.options||e.placeholder||"").length>0&&j(e,r,s);break;case"LI":I(e,s,h);break;case"CANVAS":M(d,e,e,r,l)}return s}function tt(e){return"none"!==ht(e,"display")&&"hidden"!==ht(e,"visibility")&&!e.hasAttribute("data-html2canvas-ignore")}function nt(e,t,n){tt(e)&&(t=et(e,t,n)||t,ct.test(e.nodeName)||c.Util.Children(e).forEach(function(o){1===o.nodeType?nt(o,t,n):3===o.nodeType&&x(e,o,t)}))}function ot(e,t){function n(e){var t,o,i,r,s,l=c.Util.Children(e),d=l.length;for(s=0;d>s;s+=1)if(r=l[s],3===r.nodeType)a+=r.nodeValue.replace(/</g,"&lt;").replace(/>/g,"&gt;");else if(1===r.nodeType&&!/^(script|meta|title)$/.test(r.nodeName.toLowerCase())){if(a+="<"+r.nodeName.toLowerCase(),r.hasAttributes())for(t=r.attributes,i=t.length,o=0;i>o;o+=1)a+=" "+t[o].name+'="'+t[o].value+'"';a+=">",n(r),a+="</"+r.nodeName.toLowerCase()+">"}}var o=new Image,i=l(),r=d(),a="";n(e),o.src=["data:image/svg+xml,","<svg xmlns='http://www.w3.org/2000/svg' version='1.1' width='"+i+"' height='"+r+"'>","<foreignObject width='"+i+"' height='"+r+"'>","<html xmlns='http://www.w3.org/1999/xhtml' style='margin:0;'>",a.replace(/\#/g,"%23"),"</html>","</foreignObject>","</svg>"].join(""),o.onload=function(){t.svgRender=o}}function it(){var e=et(rt,null);return lt.svgRendering&&ot(t.documentElement,e),Array.prototype.slice.call(rt.children,0).forEach(function(t){nt(t,e)}),e.backgroundColor=ht(t.documentElement,"backgroundColor"),dt.removeChild(pt),e}e.scroll(0,0);var rt=s.elements===n?t.body:s.elements[0],at=0,st=rt.ownerDocument,lt=c.Util.Support(s,st),ct=RegExp("("+s.ignoreElements+")"),dt=st.body,ht=c.Util.getCSS,ut="___html2canvas___pseudoelement",pt=st.createElement("style");pt.innerHTML="."+ut+'-before:before { content: "" !important; display: none !important; }'+"."+ut+'-after:after { content: "" !important; display: none !important; }',dt.appendChild(pt),i=i||{};var gt=function(e){return function(t,n,o,i){var r=o*e,a=i*e,s=t+o,l=n+i;return{topLeft:A({x:t,y:l},{x:t,y:l-a},{x:s-r,y:n},{x:s,y:n}),topRight:A({x:t,y:n},{x:t+r,y:n},{x:s,y:l-a},{x:s,y:l}),bottomRight:A({x:s,y:n},{x:s,y:n+a},{x:t+r,y:l},{x:t,y:l}),bottomLeft:A({x:s,y:l},{x:s-r,y:l},{x:t,y:n+a},{x:t,y:n})}}}(4*((Math.sqrt(2)-1)/3));return it()},c.Preload=function(i){function r(e){$.href=e,$.href=$.href;var t=$.protocol+$.host;return t===m}function a(){o("html2canvas: start: images: "+y.numLoaded+" / "+y.numTotal+" (failed: "+y.numFailed+")"),!y.firstRun&&y.numLoaded>=y.numTotal&&(o("Finished loading images: # "+y.numTotal+" (failed: "+y.numFailed+")"),"function"==typeof i.complete&&i.complete(y))}function s(t,o,r){var s,l,c=i.proxy;$.href=t,t=$.href,s="html2canvas_"+x++,r.callbackname=s,c+=c.indexOf("?")>-1?"&":"?",c+="url="+encodeURIComponent(t)+"&callback="+s,l=k.createElement("script"),e[s]=function(t){"error:"===t.substring(0,6)?(r.succeeded=!1,y.numLoaded++,y.numFailed++,a()):(f(o,r),o.src=t),e[s]=n;try{delete e[s]}catch(i){}l.parentNode.removeChild(l),l=null,delete r.script,delete r.callbackname},l.setAttribute("type","text/javascript"),l.setAttribute("src",c),r.script=l,e.document.body.appendChild(l)}function l(t,n){var o=e.getComputedStyle(t,n),i=o.content;"url"===i.substr(0,3)&&v.loadImage(c.Util.parseBackgroundImage(i)[0].args[0]),p(o.backgroundImage,t)}function d(e){l(e,":before"),l(e,":after")}function h(e,t){var o=c.Generate.Gradient(e,t);o!==n&&(y[e]={img:o,succeeded:!0},y.numTotal++,y.numLoaded++,a())}function u(e){return e&&e.method&&e.args&&e.args.length>0}function p(e,t){var o;c.Util.parseBackgroundImage(e).filter(u).forEach(function(e){"url"===e.method?v.loadImage(e.args[0]):e.method.match(/\-?gradient$/)&&(o===n&&(o=c.Util.Bounds(t)),h(e.value,o))})}function g(e){var t=!1;try{c.Util.Children(e).forEach(function(e){g(e)})}catch(i){}try{t=e.nodeType}catch(r){t=!1,o("html2canvas: failed to access some element's nodeType - Exception: "+r.message)}if(1===t||t===n){d(e);try{p(c.Util.getCSS(e,"backgroundImage"),e)}catch(i){o("html2canvas: failed to get background-image - Exception: "+i.message)}p(e)}}function f(t,o){t.onload=function(){o.timer!==n&&e.clearTimeout(o.timer),y.numLoaded++,o.succeeded=!0,t.onerror=t.onload=null,a()},t.onerror=function(){if("anonymous"===t.crossOrigin&&(e.clearTimeout(o.timer),i.proxy)){var r=t.src;return t=new Image,o.img=t,t.src=r,s(t.src,t,o),n}y.numLoaded++,y.numFailed++,o.succeeded=!1,t.onerror=t.onload=null,a()}}var m,v,b,w,y={numLoaded:0,numFailed:0,numTotal:0,cleanupDone:!1},x=0,C=i.elements[0]||t.body,k=C.ownerDocument,S=k.images,I=S.length,$=k.createElement("a"),T=function(e){return e.crossOrigin!==n}(new Image);for($.href=e.location.href,m=$.protocol+$.host,v={loadImage:function(t){var o,a;t&&y[t]===n&&(o=new Image,t.match(/data:image\/.*;base64,/i)?(o.src=t.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),a=y[t]={img:o},y.numTotal++,f(o,a)):r(t)||i.allowTaint===!0?(a=y[t]={img:o},y.numTotal++,f(o,a),o.src=t):T&&!i.allowTaint&&i.useCORS?(o.crossOrigin="anonymous",a=y[t]={img:o},y.numTotal++,f(o,a),o.src=t,o.customComplete=function(){this.img.complete?this.img.onerror():this.timer=e.setTimeout(this.img.customComplete,100)}.bind(a),o.customComplete()):i.proxy&&(a=y[t]={img:o},y.numTotal++,s(t,o,a)))},cleanupDOM:function(r){var s,l;if(!y.cleanupDone){r&&"string"==typeof r?o("html2canvas: Cleanup because: "+r):o("html2canvas: Cleanup after timeout: "+i.timeout+" ms.");for(l in y)if(y.hasOwnProperty(l)&&(s=y[l],"object"==typeof s&&s.callbackname&&s.succeeded===n)){e[s.callbackname]=n;try{delete e[s.callbackname]}catch(c){}s.script&&s.script.parentNode&&(s.script.setAttribute("src","about:blank"),s.script.parentNode.removeChild(s.script)),y.numLoaded++,y.numFailed++,o("html2canvas: Cleaned up failed img: '"+l+"' Steps: "+y.numLoaded+" / "+y.numTotal)
}e.stop!==n?e.stop():t.execCommand!==n&&t.execCommand("Stop",!1),t.close!==n&&t.close(),y.cleanupDone=!0,r&&"string"==typeof r||a()}},renderingDone:function(){w&&e.clearTimeout(w)}},i.timeout>0&&(w=e.setTimeout(v.cleanupDOM,i.timeout)),o("html2canvas: Preload starts: finding background-images"),y.firstRun=!0,g(C),o("html2canvas: Preload: Finding images"),b=0;I>b;b+=1)v.loadImage(S[b].getAttribute("src"));return y.firstRun=!1,o("html2canvas: Preload: Done."),y.numTotal===y.numLoaded&&a(),v},c.Renderer=function(e,o){function i(e){var t=[],n=function(e){var o=[],i=[];e.children.forEach(function(e){e.children&&e.children.length>0?(o.push(e),i.push(e.zindex)):t.push(e)}),i.sort(function(e,t){return e-t}),i.forEach(function(e){var t;o.some(function(n,o){return t=o,n.zindex===e}),n(o.splice(t,1)[0])})};return n(e.zIndex),t}function r(e){var t;if("string"==typeof o.renderer&&c.Renderer[e]!==n)t=c.Renderer[e](o);else{if("function"!=typeof e)throw Error("Unknown renderer");t=e(o)}if("function"!=typeof t)throw Error("Invalid renderer defined");return t}return r(o.renderer)(e,o,t,i(e),c)},c.Util.Support=function(e,t){function i(){var e=new Image,i=t.createElement("canvas"),r=i.getContext===n?!1:i.getContext("2d");if(r===!1)return!1;i.width=i.height=10,e.src=["data:image/svg+xml,","<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'>","<foreignObject width='10' height='10'>","<div xmlns='http://www.w3.org/1999/xhtml' style='width:10;height:10;'>","sup","</div>","</foreignObject>","</svg>"].join("");try{r.drawImage(e,0,0),i.toDataURL()}catch(a){return!1}return o("html2canvas: Parse: SVG powered rendering available"),!0}function r(){var e,n,o,i,r=!1;return t.createRange&&(e=t.createRange(),e.getBoundingClientRect&&(n=t.createElement("boundtest"),n.style.height="123px",n.style.display="block",t.body.appendChild(n),e.selectNode(n),o=e.getBoundingClientRect(),i=o.height,123===i&&(r=!0),t.body.removeChild(n))),r}return{rangeBounds:r(),svgRendering:e.svgRendering&&i()}},e.html2canvas=function(t,n){t=t.length?t:[t];var i,r,a={logging:!1,elements:t,background:"#fff",proxy:null,timeout:0,useCORS:!1,allowTaint:!1,svgRendering:!1,ignoreElements:"IFRAME|OBJECT|PARAM",useOverflow:!0,letterRendering:!1,chinese:!1,width:null,height:null,taintTest:!0,renderer:"Canvas"};return a=c.Util.Extend(n,a),c.logging=a.logging,a.complete=function(e){("function"!=typeof a.onpreloaded||a.onpreloaded(e)!==!1)&&(i=c.Parse(e,a),("function"!=typeof a.onparsed||a.onparsed(i)!==!1)&&(r=c.Renderer(i,a),"function"==typeof a.onrendered&&a.onrendered(r)))},e.setTimeout(function(){c.Preload(a)},0),{render:function(e,t){return c.Renderer(e,c.Util.Extend(t,a))},parse:function(e,t){return c.Parse(e,c.Util.Extend(t,a))},preload:function(e){return c.Preload(c.Util.Extend(e,a))},log:o}},e.html2canvas.log=o,e.html2canvas.Renderer={Canvas:n},c.Renderer.Canvas=function(e){function i(e,t){e.beginPath(),t.forEach(function(t){e[t.name].apply(e,t.arguments)}),e.closePath()}function r(e){if(-1===c.indexOf(e.arguments[0].src)){h.drawImage(e.arguments[0],0,0);try{h.getImageData(0,0,1,1)}catch(t){return d=l.createElement("canvas"),h=d.getContext("2d"),!1}c.push(e.arguments[0].src)}return!0}function a(e){return"transparent"===e||"rgba(0, 0, 0, 0)"===e}function s(t,n){switch(n.type){case"variable":t[n.name]=n.arguments;break;case"function":if("createPattern"===n.name){if(n.arguments[0].width>0&&n.arguments[0].height>0)try{t.fillStyle=t.createPattern(n.arguments[0],"repeat")}catch(a){o("html2canvas: Renderer: Error creating pattern",a.message)}}else"drawShape"===n.name?i(t,n.arguments):"drawImage"===n.name?n.arguments[8]>0&&n.arguments[7]>0&&(!e.taintTest||e.taintTest&&r(n))&&t.drawImage.apply(t,n.arguments):t[n.name].apply(t,n.arguments)}}e=e||{};var l=t,c=[],d=t.createElement("canvas"),h=d.getContext("2d"),u=e.canvas||l.createElement("canvas");return function(e,t,i,r,l){var c,d,h,p,g,f,m=u.getContext("2d");if(u.width=u.style.width=t.width||e.ctx.width,u.height=u.style.height=t.height||e.ctx.height,f=m.fillStyle,m.fillStyle=a(e.backgroundColor)&&t.background!==n?t.background:e.backgroundColor,m.fillRect(0,0,u.width,u.height),m.fillStyle=f,t.svgRendering&&e.svgRender!==n)m.drawImage(e.svgRender,0,0);else for(d=0,h=r.length;h>d;d+=1)c=r.splice(0,1)[0],c.canvasPosition=c.canvasPosition||{},m.textBaseline="bottom",c.clip&&(m.save(),m.beginPath(),m.rect(c.clip.left,c.clip.top,c.clip.width,c.clip.height),m.clip()),c.ctx.storage&&c.ctx.storage.forEach(s.bind(null,m)),c.clip&&m.restore();return o("html2canvas: Renderer: Canvas renderer done - returning canvas obj"),h=t.elements.length,1===h&&"object"==typeof t.elements[0]&&"BODY"!==t.elements[0].nodeName?(g=l.Util.Bounds(t.elements[0]),p=i.createElement("canvas"),p.width=g.width,p.height=g.height,m=p.getContext("2d"),m.drawImage(u,g.left,g.top,g.width,g.height,0,0,g.width,g.height),u=null,p):u}}}(window,document);